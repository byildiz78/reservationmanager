{"database_name" : "reservationdb", "tables" : { "table_status_history" : {"columns" : { "history_id" : {"type" : "integer", "nullable" : "NO", "default" : "nextval('table_status_history_history_id_seq'::regclass)", "character_maximum_length" : null}, "table_id" : {"type" : "integer", "nullable" : "YES", "default" : null, "character_maximum_length" : null}, "previous_status" : {"type" : "character varying", "nullable" : "NO", "default" : null, "character_maximum_length" : 20}, "new_status" : {"type" : "character varying", "nullable" : "NO", "default" : null, "character_maximum_length" : 20}, "changed_at" : {"type" : "timestamp with time zone", "nullable" : "YES", "default" : "CURRENT_TIMESTAMP", "character_maximum_length" : null}, "changed_by" : {"type" : "character varying", "nullable" : "YES", "default" : null, "character_maximum_length" : 50} }, "constraints" : [{"name" : "table_status_history_pkey", "type" : "PRIMARY KEY"}, {"name" : "table_status_history_table_id_fkey", "type" : "FOREIGN KEY"}, {"name" : "2200_16418_1_not_null", "type" : "CHECK"}, {"name" : "2200_16418_3_not_null", "type" : "CHECK"}, {"name" : "2200_16418_4_not_null", "type" : "CHECK"}], "indexes" : ["table_status_history_pkey"]}, "tables" : {"columns" : { "table_id" : {"type" : "integer", "nullable" : "NO", "default" : "nextval('tables_table_id_seq'::regclass)", "character_maximum_length" : null}, "branch_id" : {"type" : "integer", "nullable" : "NO", "default" : null, "character_maximum_length" : null}, "table_name" : {"type" : "character varying", "nullable" : "NO", "default" : null, "character_maximum_length" : 50}, "capacity" : {"type" : "integer", "nullable" : "NO", "default" : null, "character_maximum_length" : null}, "status" : {"type" : "character varying", "nullable" : "YES", "default" : "'available'::character varying", "character_maximum_length" : 20}, "location" : {"type" : "character varying", "nullable" : "YES", "default" : null, "character_maximum_length" : 50}, "is_active" : {"type" : "boolean", "nullable" : "YES", "default" : "true", "character_maximum_length" : null}, "created_at" : {"type" : "timestamp with time zone", "nullable" : "YES", "default" : "CURRENT_TIMESTAMP", "character_maximum_length" : null}, "updated_at" : {"type" : "timestamp with time zone", "nullable" : "YES", "default" : "CURRENT_TIMESTAMP", "character_maximum_length" : null}, "section_id" : {"type" : "integer", "nullable" : "YES", "default" : null, "character_maximum_length" : null}, "category_id" : {"type" : "integer", "nullable" : "YES", "default" : null, "character_maximum_length" : null}, "min_reservation_time" : {"type" : "integer", "nullable" : "YES", "default" : "60", "character_maximum_length" : null}, "max_reservation_time" : {"type" : "integer", "nullable" : "YES", "default" : "180", "character_maximum_length" : null}, "reservation_interval" : {"type" : "integer", "nullable" : "YES", "default" : "15", "character_maximum_length" : null} }, "constraints" : [{"name" : "tables_pkey", "type" : "PRIMARY KEY"}, {"name" : "tables_section_id_fkey", "type" : "FOREIGN KEY"}, {"name" : "tables_category_id_fkey", "type" : "FOREIGN KEY"}, {"name" : "2200_16390_1_not_null", "type" : "CHECK"}, {"name" : "2200_16390_2_not_null", "type" : "CHECK"}, {"name" : "2200_16390_3_not_null", "type" : "CHECK"}, {"name" : "2200_16390_4_not_null", "type" : "CHECK"}], "indexes" : ["tables_pkey", "idx_tables_section_id", "idx_tables_category_id"]}, "reservations" : {"columns" : { "reservation_id" : {"type" : "integer", "nullable" : "NO", "default" : "nextval('reservations_reservation_id_seq'::regclass)", "character_maximum_length" : null}, "table_id" : {"type" : "integer", "nullable" : "YES", "default" : null, "character_maximum_length" : null}, "branch_id" : {"type" : "integer", "nullable" : "NO", "default" : null, "character_maximum_length" : null}, "customer_name" : {"type" : "character varying", "nullable" : "NO", "default" : null, "character_maximum_length" : 100}, "customer_phone" : {"type" : "character varying", "nullable" : "YES", "default" : null, "character_maximum_length" : 20}, "customer_email" : {"type" : "character varying", "nullable" : "YES", "default" : null, "character_maximum_length" : 100}, "party_size" : {"type" : "integer", "nullable" : "NO", "default" : null, "character_maximum_length" : null}, "reservation_date" : {"type" : "date", "nullable" : "NO", "default" : null, "character_maximum_length" : null}, "reservation_time" : {"type" : "time without time zone", "nullable" : "NO", "default" : null, "character_maximum_length" : null}, "status" : {"type" : "character varying", "nullable" : "YES", "default" : "'confirmed'::character varying", "character_maximum_length" : 20}, "notes" : {"type" : "text", "nullable" : "YES", "default" : null, "character_maximum_length" : null}, "created_at" : {"type" : "timestamp with time zone", "nullable" : "YES", "default" : "CURRENT_TIMESTAMP", "character_maximum_length" : null}, "updated_at" : {"type" : "timestamp with time zone", "nullable" : "YES", "default" : "CURRENT_TIMESTAMP", "character_maximum_length" : null}, "specialnotes" : {"type" : "text", "nullable" : "YES", "default" : null, "character_maximum_length" : null} }, "constraints" : [{"name" : "reservations_pkey", "type" : "PRIMARY KEY"}, {"name" : "reservations_table_id_fkey", "type" : "FOREIGN KEY"}, {"name" : "2200_16401_1_not_null", "type" : "CHECK"}, {"name" : "2200_16401_3_not_null", "type" : "CHECK"}, {"name" : "2200_16401_4_not_null", "type" : "CHECK"}, {"name" : "2200_16401_7_not_null", "type" : "CHECK"}, {"name" : "2200_16401_8_not_null", "type" : "CHECK"}, {"name" : "2200_16401_9_not_null", "type" : "CHECK"}], "indexes" : ["reservations_pkey"]}, "special_days" : {"columns" : { "special_day_id" : {"type" : "integer", "nullable" : "NO", "default" : "nextval('special_days_special_day_id_seq'::regclass)", "character_maximum_length" : null}, "branch_id" : {"type" : "integer", "nullable" : "NO", "default" : null, "character_maximum_length" : null}, "title" : {"type" : "character varying", "nullable" : "NO", "default" : null, "character_maximum_length" : 100}, "description" : {"type" : "text", "nullable" : "YES", "default" : null, "character_maximum_length" : null}, "start_date" : {"type" : "date", "nullable" : "NO", "default" : null, "character_maximum_length" : null}, "end_date" : {"type" : "date", "nullable" : "NO", "default" : null, "character_maximum_length" : null}, "start_time" : {"type" : "time without time zone", "nullable" : "YES", "default" : null, "character_maximum_length" : null}, "end_time" : {"type" : "time without time zone", "nullable" : "YES", "default" : null, "character_maximum_length" : null}, "is_full_day" : {"type" : "boolean", "nullable" : "YES", "default" : "true", "character_maximum_length" : null}, "is_recurring" : {"type" : "boolean", "nullable" : "YES", "default" : "false", "character_maximum_length" : null}, "recurring_pattern" : {"type" : "character varying", "nullable" : "YES", "default" : null, "character_maximum_length" : 50}, "capacity_modifier" : {"type" : "integer", "nullable" : "YES", "default" : "0", "character_maximum_length" : null}, "price_modifier" : {"type" : "numeric", "nullable" : "YES", "default" : "0", "character_maximum_length" : null}, "is_active" : {"type" : "boolean", "nullable" : "YES", "default" : "true", "character_maximum_length" : null}, "created_at" : {"type" : "timestamp with time zone", "nullable" : "YES", "default" : "CURRENT_TIMESTAMP", "character_maximum_length" : null}, "updated_at" : {"type" : "timestamp with time zone", "nullable" : "YES", "default" : "CURRENT_TIMESTAMP", "character_maximum_length" : null} }, "constraints" : [{"name" : "special_days_pkey", "type" : "PRIMARY KEY"}, {"name" : "2200_16448_1_not_null", "type" : "CHECK"}, {"name" : "2200_16448_2_not_null", "type" : "CHECK"}, {"name" : "2200_16448_3_not_null", "type" : "CHECK"}, {"name" : "2200_16448_5_not_null", "type" : "CHECK"}, {"name" : "2200_16448_6_not_null", "type" : "CHECK"}], "indexes" : ["special_days_pkey", "idx_special_days_branch_id", "idx_special_days_date_range"]}, "reservation_history" : {"columns" : { "history_id" : {"type" : "integer", "nullable" : "NO", "default" : "nextval('reservation_history_history_id_seq'::regclass)", "character_maximum_length" : null}, "reservation_id" : {"type" : "integer", "nullable" : "NO", "default" : null, "character_maximum_length" : null}, "previous_status" : {"type" : "character varying", "nullable" : "NO", "default" : null, "character_maximum_length" : 20}, "new_status" : {"type" : "character varying", "nullable" : "NO", "default" : null, "character_maximum_length" : 20}, "changed_by" : {"type" : "character varying", "nullable" : "YES", "default" : null, "character_maximum_length" : 50}, "notes" : {"type" : "text", "nullable" : "YES", "default" : null, "character_maximum_length" : null}, "created_at" : {"type" : "timestamp with time zone", "nullable" : "YES", "default" : "CURRENT_TIMESTAMP", "character_maximum_length" : null} }, "constraints" : [{"name" : "reservation_history_pkey", "type" : "PRIMARY KEY"}, {"name" : "2200_16466_1_not_null", "type" : "CHECK"}, {"name" : "2200_16466_2_not_null", "type" : "CHECK"}, {"name" : "2200_16466_3_not_null", "type" : "CHECK"}, {"name" : "2200_16466_4_not_null", "type" : "CHECK"}], "indexes" : ["reservation_history_pkey", "idx_reservation_history_reservation_id"]}, "sections" : {"columns" : { "section_id" : {"type" : "integer", "nullable" : "NO", "default" : "nextval('sections_section_id_seq'::regclass)", "character_maximum_length" : null}, "branch_id" : {"type" : "integer", "nullable" : "NO", "default" : null, "character_maximum_length" : null}, "section_name" : {"type" : "character varying", "nullable" : "NO", "default" : null, "character_maximum_length" : 50}, "description" : {"type" : "text", "nullable" : "YES", "default" : null, "character_maximum_length" : null}, "capacity" : {"type" : "integer", "nullable" : "YES", "default" : null, "character_maximum_length" : null}, "is_smoking" : {"type" : "boolean", "nullable" : "YES", "default" : "false", "character_maximum_length" : null}, "is_outdoor" : {"type" : "boolean", "nullable" : "YES", "default" : "false", "character_maximum_length" : null}, "is_vip" : {"type" : "boolean", "nullable" : "YES", "default" : "false", "character_maximum_length" : null}, "is_active" : {"type" : "boolean", "nullable" : "YES", "default" : "true", "character_maximum_length" : null}, "order_number" : {"type" : "integer", "nullable" : "YES", "default" : "0", "character_maximum_length" : null}, "created_at" : {"type" : "timestamp with time zone", "nullable" : "YES", "default" : "CURRENT_TIMESTAMP", "character_maximum_length" : null}, "updated_at" : {"type" : "timestamp with time zone", "nullable" : "YES", "default" : "CURRENT_TIMESTAMP", "character_maximum_length" : null} }, "constraints" : [{"name" : "sections_pkey", "type" : "PRIMARY KEY"}, {"name" : "2200_16431_1_not_null", "type" : "CHECK"}, {"name" : "2200_16431_2_not_null", "type" : "CHECK"}, {"name" : "2200_16431_3_not_null", "type" : "CHECK"}], "indexes" : ["sections_pkey", "idx_sections_branch_id"]}, "table_categories" : {"columns" : { "category_id" : {"type" : "integer", "nullable" : "NO", "default" : "nextval('table_categories_category_id_seq'::regclass)", "character_maximum_length" : null}, "branch_id" : {"type" : "integer", "nullable" : "NO", "default" : null, "character_maximum_length" : null}, "category_name" : {"type" : "character varying", "nullable" : "NO", "default" : null, "character_maximum_length" : 50}, "description" : {"type" : "text", "nullable" : "YES", "default" : null, "character_maximum_length" : null}, "min_capacity" : {"type" : "integer", "nullable" : "YES", "default" : null, "character_maximum_length" : null}, "max_capacity" : {"type" : "integer", "nullable" : "YES", "default" : null, "character_maximum_length" : null}, "reservation_duration" : {"type" : "integer", "nullable" : "YES", "default" : "120", "character_maximum_length" : null}, "price_category" : {"type" : "character varying", "nullable" : "YES", "default" : null, "character_maximum_length" : 20}, "is_active" : {"type" : "boolean", "nullable" : "YES", "default" : "true", "character_maximum_length" : null}, "created_at" : {"type" : "timestamp with time zone", "nullable" : "YES", "default" : "CURRENT_TIMESTAMP", "character_maximum_length" : null}, "updated_at" : {"type" : "timestamp with time zone", "nullable" : "YES", "default" : "CURRENT_TIMESTAMP", "character_maximum_length" : null} }, "constraints" : [{"name" : "table_categories_pkey", "type" : "PRIMARY KEY"}, {"name" : "2200_16477_1_not_null", "type" : "CHECK"}, {"name" : "2200_16477_2_not_null", "type" : "CHECK"}, {"name" : "2200_16477_3_not_null", "type" : "CHECK"}], "indexes" : ["table_categories_pkey", "idx_table_categories_branch_id"]} }}